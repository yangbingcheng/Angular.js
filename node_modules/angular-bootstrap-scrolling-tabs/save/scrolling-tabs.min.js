(function(){var c={CONTINUOUS_SCROLLING_TIMEOUT_INTERVAL:50,SCROLL_OFFSET_FRACTION:6,DATA_KEY_IS_MOUSEDOWN:"ismousedown"},e=angular.module("mj.scrollingTabs",[]),d=['<div class="scrtabs-tab-container">',' <div class="scrtabs-tab-scroll-arrow scrtabs-js-tab-scroll-arrow-left"><span class="glyphicon glyphicon-chevron-left"></span></div>','   <div class="scrtabs-tabs-fixed-container">','     <div class="scrtabs-tabs-movable-container">','       <ul class="nav nav-tabs" role="tablist">',"         <li ng-class=\"{ 'active': tab[propActive || 'active'], ","                         'disabled': tab[propDisabled || 'disabled'] }\" ",'             data-tab="{{tab}}" data-index="{{$index}}" ng-repeat="tab in tabsArr">',"           <a ng-href=\"{{'#' + tab[propPaneId || 'paneId']}}\" role=\"tab\"","                data-toggle=\"{{tab[propDisabled || 'disabled'] ? '' : 'tab'}}\" ","                ng-bind-html=\"sanitize(tab[propTitle || 'title']);\">","           </a>","         </li>","       </ul>","     </div>"," </div>",' <div class="scrtabs-tab-scroll-arrow scrtabs-js-tab-scroll-arrow-right"><span class="glyphicon glyphicon-chevron-right"></span></div>',"</div>"].join(""),a=['<div class="scrtabs-tab-container">',' <div class="scrtabs-tab-scroll-arrow scrtabs-js-tab-scroll-arrow-left"><span class="glyphicon glyphicon-chevron-left"></span></div>','   <div class="scrtabs-tabs-fixed-container">','     <div class="scrtabs-tabs-movable-container" ng-transclude></div>',"   </div>",' <div class="scrtabs-tab-scroll-arrow scrtabs-js-tab-scroll-arrow-right"><span class="glyphicon glyphicon-chevron-right"></span></div>',"</div>"].join("");(function(m,l){var k=function(q,n,o){var r;return function p(){var u=this,t=arguments;function s(){if(!o){q.apply(u,t)}r=null}if(r){clearTimeout(r)}else{if(o){q.apply(u,t)}}r=setTimeout(s,n||100)}};jQuery.fn[l]=function(n){return n?this.bind("resize.scrtabs",k(n)):this.trigger(l)}})(jQuery,"smartresize");function i(l){var k=this;k.stc=l}(function(k){k.handleClickOnLeftScrollArrow=function(n){var m=this,l=m.stc;l.scrollMovement.incrementScrollLeft()};k.handleClickOnRightScrollArrow=function(o){var m=this,l=m.stc,n=l.scrollMovement;n.incrementScrollRight(n.getMinPos())};k.handleMousedownOnLeftScrollArrow=function(n){var m=this,l=m.stc;l.scrollMovement.startScrollLeft()};k.handleMousedownOnRightScrollArrow=function(n){var m=this,l=m.stc;l.scrollMovement.startScrollRight()};k.handleMouseupOnLeftScrollArrow=function(n){var m=this,l=m.stc;l.scrollMovement.stopScrollLeft()};k.handleMouseupOnRightScrollArrow=function(n){var m=this,l=m.stc;l.scrollMovement.stopScrollRight()};k.handleWindowResize=function(o){var m=this,l=m.stc,n=l.$win.width();if(n===l.winWidth){return false}l.winWidth=n;l.elementsHandler.refreshAllElementSizes(true)}}(i.prototype));function b(l){var k=this;k.stc=l}(function(k){k.initElements=function(m){var l=this;l.setElementReferences();if(m.isWrapperDirective){l.moveTabContentOutsideScrollContainer(m)}l.setEventListeners()};k.moveTabContentOutsideScrollContainer=function(s){var p=this,n=p.stc,l=n.$tabsContainer,t="scrtabs-tab-content-clone",o="scrtabs-tab-content-hidden",r=l.find(".tab-content").not("."+t),m,q;if(!s.isWatchingTabsArray){r.appendTo(l);return}if(!r.hasClass(o)){r.addClass(o)}q=r.clone().removeClass(o).addClass(t);m=l.find("."+t);if(m.length){m.replaceWith(q)}else{l.append(q)}};k.refreshAllElementSizes=function(q){var l=this,o=l.stc,n=o.scrollMovement,p=o.scrollArrowsVisible,m;l.setElementWidths();l.setScrollArrowVisibility();if(o.scrollArrowsVisible){l.setFixedContainerWidthForJustVisibleScrollArrows()}if(q&&(o.scrollArrowsVisible||p)){if(o.scrollArrowsVisible){m=n.getMinPos();if(o.movableContainerLeftPos<m){n.incrementScrollRight(m)}else{n.scrollToActiveTab({isOnWindowResize:true})}}else{o.movableContainerLeftPos=0;n.slideMovableContainerToLeftPos()}}};k.setElementReferences=function(){var m=this,n=m.stc,l=n.$tabsContainer;n.$fixedContainer=l.find(".scrtabs-tabs-fixed-container");n.$movableContainer=l.find(".scrtabs-tabs-movable-container");n.$tabsUl=l.find(".nav-tabs");n.$leftScrollArrow=l.find(".scrtabs-js-tab-scroll-arrow-left");n.$rightScrollArrow=l.find(".scrtabs-js-tab-scroll-arrow-right");n.$scrollArrows=n.$leftScrollArrow.add(n.$rightScrollArrow);n.$win=$(window)};k.setElementWidths=function(){var l=this,m=l.stc;m.containerWidth=m.$tabsContainer.outerWidth();m.winWidth=m.$win.width();m.scrollArrowsCombinedWidth=m.$leftScrollArrow.outerWidth()+m.$rightScrollArrow.outerWidth();l.setFixedContainerWidth();l.setMovableContainerWidth()};k.setEventListeners=function(){var l=this,n=l.stc,m=n.eventHandlers;n.$leftScrollArrow.on({"mousedown.scrtabs":function(o){m.handleMousedownOnLeftScrollArrow.call(m,o)},"mouseup.scrtabs":function(o){m.handleMouseupOnLeftScrollArrow.call(m,o)},"click.scrtabs":function(o){m.handleClickOnLeftScrollArrow.call(m,o)}});n.$rightScrollArrow.on({"mousedown.scrtabs":function(o){m.handleMousedownOnRightScrollArrow.call(m,o)},"mouseup.scrtabs":function(o){m.handleMouseupOnRightScrollArrow.call(m,o)
},"click.scrtabs":function(o){m.handleClickOnRightScrollArrow.call(m,o)}});n.$win.smartresize(function(o){m.handleWindowResize.call(m,o)})};k.setFixedContainerWidth=function(){var l=this,m=l.stc;m.$fixedContainer.width(m.fixedContainerWidth=m.$tabsContainer.outerWidth())};k.setFixedContainerWidthForJustHiddenScrollArrows=function(){var l=this,m=l.stc;m.$fixedContainer.width(m.fixedContainerWidth)};k.setFixedContainerWidthForJustVisibleScrollArrows=function(){var l=this,m=l.stc;m.$fixedContainer.width(m.fixedContainerWidth-m.scrollArrowsCombinedWidth)};k.setMovableContainerWidth=function(){var l=this,m=l.stc;m.movableContainerWidth=0;m.$tabsUl.find("li").each(function n(){var o=$(this);m.movableContainerWidth+=o.outerWidth()});m.$movableContainer.width(m.movableContainerWidth+=1)};k.setScrollArrowVisibility=function(){var l=this,m=l.stc,n=m.movableContainerWidth>m.fixedContainerWidth;if(n&&!m.scrollArrowsVisible){m.$scrollArrows.show();m.scrollArrowsVisible=true;l.setFixedContainerWidthForJustVisibleScrollArrows()}else{if(!n&&m.scrollArrowsVisible){m.$scrollArrows.hide();m.scrollArrowsVisible=false;l.setFixedContainerWidthForJustHiddenScrollArrows()}}}}(b.prototype));function h(l){var k=this;k.stc=l}(function(k){k.continueScrollLeft=function(){var m=this,l=m.stc;l.$timeout(function(){if(l.$leftScrollArrow.data(c.DATA_KEY_IS_MOUSEDOWN)&&(l.movableContainerLeftPos<0)){if(!m.incrementScrollLeft()){m.continueScrollLeft()}}},c.CONTINUOUS_SCROLLING_TIMEOUT_INTERVAL)};k.continueScrollRight=function(l){var n=this,m=n.stc;m.$timeout(function(){if(m.$rightScrollArrow.data(c.DATA_KEY_IS_MOUSEDOWN)&&(m.movableContainerLeftPos>l)){if(!n.incrementScrollRight(l)){n.continueScrollRight(l)}}},c.CONTINUOUS_SCROLLING_TIMEOUT_INTERVAL)};k.decrementMovableContainerLeftPos=function(l){var n=this,m=n.stc;m.movableContainerLeftPos-=(m.fixedContainerWidth/c.SCROLL_OFFSET_FRACTION);if(m.movableContainerLeftPos<l){m.movableContainerLeftPos=l}};k.getMinPos=function(){var m=this,l=m.stc;return l.scrollArrowsVisible?(l.fixedContainerWidth-l.movableContainerWidth-l.scrollArrowsCombinedWidth):0};k.getMovableContainerCssLeftVal=function(){var m=this,l=m.stc;return(l.movableContainerLeftPos===0)?"0":l.movableContainerLeftPos+"px"};k.incrementScrollLeft=function(){var m=this,l=m.stc;l.movableContainerLeftPos+=(l.fixedContainerWidth/c.SCROLL_OFFSET_FRACTION);if(l.movableContainerLeftPos>0){l.movableContainerLeftPos=0}m.slideMovableContainerToLeftPos();return(l.movableContainerLeftPos===0)};k.incrementScrollRight=function(l){var n=this,m=n.stc;n.decrementMovableContainerLeftPos(l);n.slideMovableContainerToLeftPos();return(m.movableContainerLeftPos===l)};k.scrollToActiveTab=function(p){var o=this,n=o.stc,s,q,r,l,m;if(!n.scrollArrowsVisible){return}s=n.$tabsUl.find("li.active");if(!s.length){return}q=s.outerWidth();r=s.offset().left;l=n.$rightScrollArrow.offset().left;m=r+q-l;if(m>0){n.movableContainerLeftPos=(p.isOnWindowResize||p.isOnWrapperRefresh)?(n.movableContainerLeftPos-m):-m;o.slideMovableContainerToLeftPos()}};k.slideMovableContainerToLeftPos=function(){var m=this,l=m.stc,n;l.movableContainerLeftPos=l.movableContainerLeftPos/1;n=m.getMovableContainerCssLeftVal();l.$movableContainer.stop().animate({left:n},"slow",function o(){var p=m.getMinPos();if(l.movableContainerLeftPos<p){m.decrementMovableContainerLeftPos(p);l.$movableContainer.stop().animate({left:m.getMovableContainerCssLeftVal()},"fast")}})};k.startScrollLeft=function(){var m=this,l=m.stc;l.$leftScrollArrow.data(c.DATA_KEY_IS_MOUSEDOWN,true);m.continueScrollLeft()};k.startScrollRight=function(){var m=this,l=m.stc;l.$rightScrollArrow.data(c.DATA_KEY_IS_MOUSEDOWN,true);m.continueScrollRight(m.getMinPos())};k.stopScrollLeft=function(){var m=this,l=m.stc;l.$leftScrollArrow.data(c.DATA_KEY_IS_MOUSEDOWN,false)};k.stopScrollRight=function(){var m=this,l=m.stc;l.$rightScrollArrow.data(c.DATA_KEY_IS_MOUSEDOWN,false)}}(h.prototype));function j(k,m){var l=this;l.$tabsContainer=k;l.$timeout=m,l.movableContainerLeftPos=0;l.scrollArrowsVisible=true;l.scrollMovement=new h(l);l.eventHandlers=new i(l);l.elementsHandler=new b(l)}(function(k){k.initTabs=function(m){var l=this,p=l.elementsHandler,o=l.scrollMovement;l.$timeout(function n(){p.initElements(m);p.refreshAllElementSizes();o.scrollToActiveTab({isOnWrapperRefresh:(m.isWrapperDirective&&m.isWatchingTabsArray)})},100)}}(j.prototype));function g(l,k){function m(n){return k.trustAsHtml(n)}return{restrict:"E",template:d,transclude:false,replace:true,scope:{tabs:"@",propPaneId:"@",propTitle:"@",propActive:"@",propDisabled:"@",localTabClick:"&tabClick"},link:function(q,p,o){var n=new j(p,l);q.tabsArr=q.$eval(q.tabs);q.propPaneId=q.propPaneId||"paneId";q.propTitle=q.propTitle||"title";q.propActive=q.propActive||"active";q.propDisabled=q.propDisabled||"disabled";q.sanitize=m;p.on("click.scrollingTabs",".nav-tabs > li",function r(t){var s=$(this).data();q.localTabClick({$event:t,$index:s.index,tab:s.tab})});n.initTabs(false)}}}function f(k){return{restrict:"A",template:a,transclude:true,replace:true,link:function(o,n,m){var l=new j(n,k);
if(!m.watchTabs){l.initTabs({isWrapperDirective:true});return}o.$watch(m.watchTabs,function(q,p){l.initTabs({isWrapperDirective:true,isWatchingTabsArray:true})},true)}}}g.$inject=["$timeout","$sce"];f.$inject=["$timeout"];e.directive("scrollingTabs",g);e.directive("scrollingTabsWrapper",f)}());